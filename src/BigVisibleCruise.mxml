<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml"
                        xmlns:maps="com.piaction.dashboard.cruiseControl.maps.*"
                        xmlns:view="com.piaction.dashboard.cruiseControl.view.*"
                        xmlns:mate="http://mate.asfusion.com/"
                        layout="vertical"
                        width="100%"
                        height="100%">
  <mx:Script>
    <![CDATA[
      import mx.collections.ArrayCollection;
      import com.piaction.dashboard.cruiseControl.events.MessageEvent;

      [Bindable]
      public var projects:ArrayCollection;

      private function loadData():void
      {
        dispatchEvent(new MessageEvent(MessageEvent.LOAD_DATA));
      }

      public function checkSound():void
      {
        projectContainer.muteSound(muteSound);
      }
    ]]>
  </mx:Script>
  <mx:Style source="style.css"/>
  <maps:MainEventMap />
  <mate:Listener type="{MessageEvent.REFRESH}" receive="loadData()"/>
  <view:ProjectBox id="projectContainer" projects="{projects}" width="100%" height="100%"/>
  <mx:HBox id="controls" width="100%" horizontalAlign="right" paddingTop="1" paddingBottom="1">
    <mx:LinkButton id="muteSound" label="Sans Alarme" click="checkSound()" toolTip="Shift+S"/>
    <mx:LinkButton id="refreshLink" label="Rafraichir" click="loadData()" toolTip="Ctrl+R"/>
    <mx:LinkButton id="fullScreenLink" label="Plein Ã©cran" click="dispatchEvent(new MessageEvent(MessageEvent.FULLSCREEN))" toolTip="Ctrl+F"/>
    <mx:LinkButton id="settingsLink" label="Configuration" click="dispatchEvent(new MessageEvent(MessageEvent.SHOW_CONFIGURATION))" toolTip="Ctrl+,"/>
  </mx:HBox>
</mx:WindowedApplication>
